<app-menu></app-menu>

<div class="container">
    <div class="row d-flex justify-content-center">
        <div class="col-md-10 mt-5 pt-5">
            <div class="row z-depth-3 cottage-border">
                <div class="col-sm-4 rounded-left">
                    <!-- <img src="{{ user.email }}" class="img-cottage" alt=""> -->
                    <!-- <p>{{ user.email }}</p> -->
                    <!-- <div class="card-block text-center rext-white">
                        <i class="fas fa-user-tie fa-7x mt-5"></i>
                        <h2 class="font-weight-bold mt-4">{{ weekendCottage.name }}</h2>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                        <i class="fas fa-edit fa-2x mb-4"></i>
                    </div> -->
                </div>
                <div class="col-sm-8 rounded-right">
                    <h3 class="mt-3 text-center">
                        {{ user.email }}
                        <button class="btn btn-outline-primary" (click)='doEdit()'>Edit profile</button>
                        <button class="btn btn-outline-primary" (click)='deleteUser(user.id)'>Delete
                                Profile</button>
                    </h3>
                    <!-- <hr class="badge-primary mt-0 w-25"> -->
                    <div class="row">
                        <p class="font-weight-bold">First name: </p>
                        <p class="text-muted" [ngClass]="edit ? 'is-active' : 'is-not-active'">{{ user.firstName }}</p>
                        <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="firstName" [ngClass]="edit ? 'is-not-active' : 'is-active'">
                        <p class="font-weight-bold">Last name: </p>
                        <p class="text-muted" [ngClass]="edit ? 'is-active' : 'is-not-active'">{{ user.lastName }}</p>
                        <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="lastName"
                            [ngClass]="edit ? 'is-not-active' : 'is-active'">
                        <p class="font-weight-bold">Country: </p>
                        <p class="text-muted" [ngClass]="edit ? 'is-active' : 'is-not-active'">{{ user.country }}</p>
                        <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="country"
                            [ngClass]="edit ? 'is-not-active' : 'is-active'">
                        <p class="font-weight-bold">City: </p>
                        <p class="text-muted" [ngClass]="edit ? 'is-active' : 'is-not-active'">{{ user.city }}</p>
                        <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="city"
                            [ngClass]="edit ? 'is-not-active' : 'is-active'">
                        <p class="font-weight-bold">City: </p>
                        <p class="text-muted" [ngClass]="edit ? 'is-active' : 'is-not-active'">{{ user.address }}</p>
                        <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="address"
                            [ngClass]="edit ? 'is-not-active' : 'is-active'">
                        <p class="font-weight-bold">Phone number: </p>
                        <p class="text-muted" [ngClass]="edit ? 'is-active' : 'is-not-active'">{{ user.phoneNumber }}</p>
                        <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="phoneNumber"
                            [ngClass]="edit ? 'is-not-active' : 'is-active'">
                        <p class="font-weight-bold" [ngClass]="edit ? 'is-not-active' : 'is-active'">Password: </p>
                        <input type="text" class="form-control" aria-describedby="basic-addon1" [(ngModel)]="password"
                            [ngClass]="edit ? 'is-not-active' : 'is-active'">
                        <button class="btn btn-primary mt-3" (click)='doEditPost()' [ngClass]="edit ? 'is-not-active' : 'is-active'">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-auto">
        <table class="table w-auto">
            <thead>
                <tr>
                    <th scope="col">Subscription id</th>
                    <th scope="col">Entity</th>
                    <th scope="col">Entity id</th>
                    <th scope="col">Cancel subscription</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let subscription of subscriptions">
                    <th scope="row">{{ subscription.id }}</th>
                    <td>{{ subscription.entity }}</td>
                    <td>{{ subscription.idOfEntity }}</td>
                    <td><button class="btn btn-outline-primary make-reservation"
                            (click)='cancelSubscription(subscription.id)'>Cancel Subscription</button></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<app-footer></app-footer>